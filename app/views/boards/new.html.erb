<%= form_with model: @board, local: true do |f| %>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2">
        <h1><%= t('.title') %></h1>
        <%= render partial: 'shared/error_messages', locals: { obj: @board} %>
        <div class="form-group">
          <%= f.label :title %>
          <%= f.text_field :title, class: 'form-control' %>
        </div>
        <div class="form-group">
          <%= f.label :body %>
          <%= f.text_area :body, class: 'form-control', rows: 10 %>
        </div>
        <div class="form-group">
          <%= f.label :board_image %>
          <%= f.file_field :board_image, id: :board_img, accept: "image/jpg,image/gif,image/jpeg,image/png" %>
        </div>
        <div class="form-group">
          <% if @board.board_image.present? %>
            <%= image_tag @board.board_image, id: :img_prev, size: '300Ã—200' %>
          <% else %>
            <%= image_tag "no_image.png", id: :img_prev %>
          <% end %>
        </div>
        <%= f.submit t('.submit'), class: 'btn btn-primary' %>
      </div>
    </div>
  </div>
<% end %>

<script type="text/javascript">
  $(function() {
    function readURL(input) {
        if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
    $('#img_prev').attr('src', e.target.result);
        }
        reader.readAsDataURL(input.files[0]);
        }
    }
    $("#board_img").change(function(){
        readURL(this);
    });
  });
</script>